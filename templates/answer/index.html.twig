{% extends 'base.html.twig' %}

{% block title %}
    {{ parent() }}
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <!--<script src="/js/form.js"></script>-->
{% endblock %}

{% block body %}
    {{ parent() }}
    <main>
        <section id="quizz-container">
            <h1>
                Réponses   
            </h1>
            
            <article id="personnal-quiz">
                <h2>Vos réponses</h2>
                   <div class="table__wrapper">
                    {% if userAnswer is defined %}
                        <table class="table is-fullwidth">
                            <thead>
                                <tr>
                                    <th>Position</th>
                                    <th>Categorie</th>
                                    <th>Nom du quiz</th>
                                    <th>Nom de la question</th>
                                    <th>Nom de la réponse</th>
                                    <th>Vrai/Faux</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tfoot>
                                <tr>
                                    <th>Position</th>
                                    <th>Categorie</th>
                                    <th>Nom du quiz</th>
                                    <th>Nom de la question</th>
                                    <th>Nom de la réponse</th>
                                    <th>Vrai/Faux</th>
                                    <th>Actions</th>
                                </tr>
                            </tfoot>
                            <tbody>
                                {% for key, listUserAnswer in userAnswer %}
                                <tr>
                                    <td>{{key + 1}}</td>
                                    <td>   <a href="{{ path('dev-quiz_categories') }}">  {{ listUserAnswer.questions.quiz.category.nameCategory }} </a></td>
                                    <td>
                                        <a href="{{ path('dev-quiz_quiz-read', {'id' : listUserAnswer.questions.quiz.id}) }}">
                                        {{ listUserAnswer.questions.quiz.name }}
                                        </a>
                                    </td>
                                    <td>
                                        {{ listUserAnswer.questions.title }}
                                    </td>
                                    <td>{{ listUserAnswer.nameAnswer }}</td>
                                    <td>
                                        {% if listUserAnswer.isCorrect == true %}
                                            Vrai
                                        {% else %}
                                            Faux
                                        {% endif %}                                          
                                    </td>
                                    <td>
                                     <button class="button is-warning"><a href="{{ path('dev-quiz_edit-answer', {'id' : listUserAnswer.id}) }}">Editer</a></button>
                                     <button class="button is-danger"><a href="{{ path('dev-quiz_delete-answer', {'id' : listUserAnswer.id}) }}">Supprimer</a></button>
                                </td>
                                </tr>
                            {% endfor %}
                            </tbody>
                        </table>
                        
                        {% else %}
                        <div class="warning">
                            <p> Vous n'avez pas encore de réponses </p>
                        </div>
                        {% endif %}
                    </div>
                    </div>

    </article>
           
 
<h2>Formulaire d'ajout</h2>

    {{form_start(formAnswer)}}
                   
    {{form_row(formAnswer.nameAnswer)}}
    
    {{form_row(formAnswer.is_correct)}}

    {{form_row(formAnswer.questions)}}	


  
    
    <div class="control">
        <button id="submit">Envoyer</button>
    <button id="back"><a href="{{ path('dev-quiz_answers') }}">Retour</a></button>
    </div>

    {{form_end(formAnswer)}}
  
    </section>
</main>
{{ include('main/footer.html.twig') }}
{% endblock %}